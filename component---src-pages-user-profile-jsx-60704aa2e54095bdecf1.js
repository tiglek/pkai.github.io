(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{444:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(156),s=t(104),i=t(434),l=t(433),u=(t(17),t(2),t(6)),c=t.n(u),d=(t(21),t(86),t(22),function(e){var n=e.t,t=e.onSubmit,r=e.oldPassword,o=e.newPassword,s=e.newPasswordConfirmation,i=e.onChange,l=e.isSubmitButtonDisabled,u=e.errorMessage;return a.a.createElement("form",{onSubmit:t},a.a.createElement("input",{name:"oldPassword",value:r,onChange:i,type:"password",placeholder:"Current Password"})," ",a.a.createElement("br",null),a.a.createElement("input",{name:"newPassword",value:o,onChange:i,type:"password",placeholder:"New Password"})," ",a.a.createElement("br",null),a.a.createElement("input",{name:"newPasswordConfirmation",value:s,onChange:i,type:"password",placeholder:"New Password Confirmation"})," ",a.a.createElement("br",null),a.a.createElement("button",{disabled:l,type:"submit"},n("auth.form-change-password-button"))," ",a.a.createElement("br",null),u&&a.a.createElement("p",null,u))});function p(e,n,t,r,a,o,s){try{var i=e[o](s),l=i.value}catch(u){return void t(u)}i.done?n(l):Promise.resolve(l).then(r,a)}var m={oldPassword:"",newPassword:"",newPasswordConfirmation:"",error:""},w=function(e){var n,t;function r(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(n=e.call.apply(e,[this].concat(r))||this).state=m,n.onUpdateField=function(e){var t;n.setState(((t={})[e.target.name]=e.target.value,t))},n.onSubmit=function(){var e,t=(e=c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Object(o.a)(n.state.oldPassword,n.state.newPassword,n.state.newPasswordConfirmation);case 3:"ok"===(r=e.sent).kind?n.setState(Object.assign({},m,{error:"success"})):n.setState({error:r.kind});case 5:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,a){var o=e.apply(n,t);function s(e){p(o,r,a,s,i,"next",e)}function i(e){p(o,r,a,s,i,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}(),n}return t=e,(n=r).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t,r.prototype.render=function(){var e=this.state,n=e.oldPassword,t=e.newPassword,r=e.newPasswordConfirmation,o=e.error,s=!f(this.state);return a.a.createElement(d,Object.assign({onSubmit:this.onSubmit,oldPassword:n,newPassword:t,newPasswordConfirmation:r,onChange:this.onUpdateField,isSubmitButtonDisabled:s,errorMessage:o},this.props))},r}(r.Component),f=function(e){return""!==e.oldPassword&&""!==e.newPassword&&""!==e.newPasswordConfirmation&&e.oldPassword!==e.newPassword&&e.newPassword===e.newPasswordConfirmation},h=(t(131),t(132),t(454));function b(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}var v=function(e){function n(n){var t;return(t=e.call(this,n)||this)._initFirebase=!1,t.onSocialLoginLink=function(e){},t.onDefaultLoginLink=function(e){},t.onUnlink=function(e){},t.state={activeSignInMethods:[],error:null},t}b(n,e);var t=n.prototype;return t.componentDidMount=function(){},t.componentDidUpdate=function(){},t.render=function(){var e=this,n=this.state,t=n.activeSignInMethods,r=n.error;return a.a.createElement("div",null,a.a.createElement("ul",null,h.a.map((function(n){var r=1===t.length,o=t.includes(n.id);return a.a.createElement("li",{key:n.id},"password"===n.id?a.a.createElement(E,{onlyOneLeft:r,isEnabled:o,signInMethod:n,onLink:e.onDefaultLoginLink,onUnlink:e.onUnlink}):a.a.createElement(g,{onlyOneLeft:r,isEnabled:o,signInMethod:n,onLink:e.onSocialLoginLink,onUnlink:e.onUnlink}))}))),r&&r.message)},n}(r.Component),g=function(e){var n=e.onlyOneLeft,t=e.isEnabled,r=e.signInMethod,o=e.onLink,s=e.onUnlink;return t?a.a.createElement("button",{type:"button",onClick:function(){return s(r.id)},disabled:n},"Deactivate ",r.id):a.a.createElement("button",{type:"button",onClick:function(){return o(r.provider)}},"Link ",r.id)},E=function(e){function n(n){var t;return(t=e.call(this,n)||this).onSubmit=function(e){e.preventDefault(),t.props.onLink(t.state.passwordOne),t.setState({passwordOne:"",passwordTwo:""})},t.onChange=function(e){var n;t.setState(((n={})[e.target.name]=e.target.value,n))},t.state={passwordOne:"",passwordTwo:""},t}return b(n,e),n.prototype.render=function(){var e=this.props,n=e.onlyOneLeft,t=e.isEnabled,r=e.signInMethod,o=e.onUnlink,s=this.state,i=s.passwordOne,l=s.passwordTwo,u=i!==l||""===i;return t?a.a.createElement("button",{type:"button",onClick:function(){return o(r.id)},disabled:n},"Deactivate ",r.id):a.a.createElement("form",{onSubmit:this.onSubmit},a.a.createElement("input",{name:"passwordOne",value:i,onChange:this.onChange,type:"password",placeholder:"New Password"}),a.a.createElement("input",{name:"passwordTwo",value:l,onChange:this.onChange,type:"password",placeholder:"Confirm New Password"}),a.a.createElement("button",{disabled:u,type:"submit"},"Link ",r.id))},n}(r.Component),P=Object(s.b)("Others")((function(e){var n=e.t,t=e.user;return a.a.createElement(i.b,null,a.a.createElement(l.a,{title:n("user.home")}),a.a.createElement("h3",null,n("user.account"),": ",t.email),a.a.createElement("br",null),a.a.createElement("h5",null,n("user.change-password"),": "),a.a.createElement(w,{t:n}),a.a.createElement("br",null),a.a.createElement("h5",null,n("user.signin-method"),": "),a.a.createElement(v,{authUser:t}))})),y=function(){return Object(o.d)()?P({user:Object(o.c)()}):null};n.default=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(y,null))}},454:function(e,n,t){"use strict";t.d(n,"b",(function(){return o}));var r=t(157),a=[{id:"email",provider:"email",enabled:!0},{id:"google.com",provider:"google",enabled:!0}];function o(e){return r.a+"/connect/"+e}n.a=a}}]);
//# sourceMappingURL=component---src-pages-user-profile-jsx-60704aa2e54095bdecf1.js.map