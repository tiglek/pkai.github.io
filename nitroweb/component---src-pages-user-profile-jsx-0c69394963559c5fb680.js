(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{480:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(217),s=t(216),i=t(218),l=t(120),u=t.n(l),c=t(13),d=t.n(c),w=t(40),p=t.n(w),m=t(16),f=t.n(m),b=t(31),h=t.n(b),g=t(32),v=t.n(g),E=t(77),P=t.n(E),y=t(63),k=t.n(y),O=t(78),C=t.n(O),S=t(210),L=function(e){var n=e.t,t=e.onSubmit,r=e.oldPassword,o=e.newPassword,s=e.newPasswordConfirmation,i=e.onChange,l=e.isSubmitButtonDisabled,u=e.errorMessage;return a.a.createElement("form",{onSubmit:t},a.a.createElement("input",{name:"oldPassword",value:r,onChange:i,type:"password",placeholder:"Current Password"})," ",a.a.createElement("br",null),a.a.createElement("input",{name:"newPassword",value:o,onChange:i,type:"password",placeholder:"New Password"})," ",a.a.createElement("br",null),a.a.createElement("input",{name:"newPasswordConfirmation",value:s,onChange:i,type:"password",placeholder:"New Password Confirmation"})," ",a.a.createElement("br",null),a.a.createElement("button",{disabled:l,type:"submit"},n("auth.form-change-password-button"))," ",a.a.createElement("br",null),u&&a.a.createElement("p",null,u))};function D(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?D(t,!0).forEach((function(n){f()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):D(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var U={oldPassword:"",newPassword:"",newPasswordConfirmation:"",error:""},M=function(e){function n(){var e,t;h()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=P()(this,(e=k()(n)).call.apply(e,[this].concat(a)))).state=U,t.onUpdateField=function(e){t.setState(f()({},e.target.name,e.target.value))},t.onSubmit=function(){var e=p()(d.a.mark((function e(n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,Object(S.a)(t.state.oldPassword,t.state.newPassword,t.state.newPasswordConfirmation);case 3:"ok"===(r=e.sent).kind?t.setState(j({},U,{error:"success"})):t.setState({error:r.kind});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),t}return C()(n,e),v()(n,[{key:"render",value:function(){var e=this.state,n=e.oldPassword,t=e.newPassword,r=e.newPasswordConfirmation,o=e.error,s=!I(this.state);return a.a.createElement(L,u()({onSubmit:this.onSubmit,oldPassword:n,newPassword:t,newPasswordConfirmation:r,onChange:this.onUpdateField,isSubmitButtonDisabled:s,errorMessage:o},this.props))}}]),n}(r.Component),I=function(e){return""!==e.oldPassword&&""!==e.newPassword&&""!==e.newPasswordConfirmation&&e.oldPassword!==e.newPassword&&e.newPassword===e.newPasswordConfirmation},F=(t(84),[{id:"email",provider:"email",enabled:!0},{id:"google.com",provider:"google",enabled:!0}]);var N=F,T=function(e){function n(e){var t;return h()(this,n),(t=P()(this,k()(n).call(this,e)))._initFirebase=!1,t.onSocialLoginLink=function(e){},t.onDefaultLoginLink=function(e){},t.onUnlink=function(e){},t.state={activeSignInMethods:[],error:null},t}return C()(n,e),v()(n,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this,n=this.state,t=n.activeSignInMethods,r=n.error;return a.a.createElement("div",null,a.a.createElement("ul",null,N.map((function(n){var r=1===t.length,o=t.includes(n.id);return a.a.createElement("li",{key:n.id},"password"===n.id?a.a.createElement(B,{onlyOneLeft:r,isEnabled:o,signInMethod:n,onLink:e.onDefaultLoginLink,onUnlink:e.onUnlink}):a.a.createElement(x,{onlyOneLeft:r,isEnabled:o,signInMethod:n,onLink:e.onSocialLoginLink,onUnlink:e.onUnlink}))}))),r&&r.message)}}]),n}(r.Component),x=function(e){var n=e.onlyOneLeft,t=e.isEnabled,r=e.signInMethod,o=e.onLink,s=e.onUnlink;return t?a.a.createElement("button",{type:"button",onClick:function(){return s(r.id)},disabled:n},"Deactivate ",r.id):a.a.createElement("button",{type:"button",onClick:function(){return o(r.provider)}},"Link ",r.id)},B=function(e){function n(e){var t;return h()(this,n),(t=P()(this,k()(n).call(this,e))).onSubmit=function(e){e.preventDefault(),t.props.onLink(t.state.passwordOne),t.setState({passwordOne:"",passwordTwo:""})},t.onChange=function(e){t.setState(f()({},e.target.name,e.target.value))},t.state={passwordOne:"",passwordTwo:""},t}return C()(n,e),v()(n,[{key:"render",value:function(){var e=this.props,n=e.onlyOneLeft,t=e.isEnabled,r=e.signInMethod,o=e.onUnlink,s=this.state,i=s.passwordOne,l=s.passwordTwo,u=i!==l||""===i;return t?a.a.createElement("button",{type:"button",onClick:function(){return o(r.id)},disabled:n},"Deactivate ",r.id):a.a.createElement("form",{onSubmit:this.onSubmit},a.a.createElement("input",{name:"passwordOne",value:i,onChange:this.onChange,type:"password",placeholder:"New Password"}),a.a.createElement("input",{name:"passwordTwo",value:l,onChange:this.onChange,type:"password",placeholder:"Confirm New Password"}),a.a.createElement("button",{disabled:u,type:"submit"},"Link ",r.id))}}]),n}(r.Component),J=Object(i.b)("Others")((function(e){var n=e.t;return a.a.createElement(a.a.Fragment,null,a.a.createElement("br",null),a.a.createElement("h5",null,n("user.change-password"),": "),a.a.createElement(M,{t:n}),a.a.createElement("br",null),a.a.createElement("h5",null,n("user.signin-method"),": "),a.a.createElement(T,null))}));n.default=Object(s.c)((function(e){return a.a.createElement(o.c,e,a.a.createElement(J,null))}))}}]);