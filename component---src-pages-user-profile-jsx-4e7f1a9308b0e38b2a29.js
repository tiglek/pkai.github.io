(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{447:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(160),s=t(108),i=t(437),l=t(436),u=t(26),c=t.n(u),d=t(6),w=t.n(d),p=t(35),m=t.n(p),f=t(15),b=t.n(f),h=t(19),g=t.n(h),v=t(20),E=t.n(v),P=t(39),y=t.n(P),k=t(34),O=t.n(k),C=t(40),S=t.n(C),L=function(e){var n=e.t,t=e.onSubmit,r=e.oldPassword,o=e.newPassword,s=e.newPasswordConfirmation,i=e.onChange,l=e.isSubmitButtonDisabled,u=e.errorMessage;return a.a.createElement("form",{onSubmit:t},a.a.createElement("input",{name:"oldPassword",value:r,onChange:i,type:"password",placeholder:"Current Password"})," ",a.a.createElement("br",null),a.a.createElement("input",{name:"newPassword",value:o,onChange:i,type:"password",placeholder:"New Password"})," ",a.a.createElement("br",null),a.a.createElement("input",{name:"newPasswordConfirmation",value:s,onChange:i,type:"password",placeholder:"New Password Confirmation"})," ",a.a.createElement("br",null),a.a.createElement("button",{disabled:l,type:"submit"},n("auth.form-change-password-button"))," ",a.a.createElement("br",null),u&&a.a.createElement("p",null,u))};function D(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?D(t,!0).forEach((function(n){b()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):D(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var U={oldPassword:"",newPassword:"",newPasswordConfirmation:"",error:""},M=function(e){function n(){var e,t;g()(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(t=y()(this,(e=O()(n)).call.apply(e,[this].concat(a)))).state=U,t.onUpdateField=function(e){t.setState(b()({},e.target.name,e.target.value))},t.onSubmit=function(){var e=m()(w.a.mark((function e(n){var r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,Object(o.a)(t.state.oldPassword,t.state.newPassword,t.state.newPasswordConfirmation);case 3:"ok"===(r=e.sent).kind?t.setState(j({},U,{error:"success"})):t.setState({error:r.kind});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),t}return S()(n,e),E()(n,[{key:"render",value:function(){var e=this.state,n=e.oldPassword,t=e.newPassword,r=e.newPasswordConfirmation,o=e.error,s=!I(this.state);return a.a.createElement(L,c()({onSubmit:this.onSubmit,oldPassword:n,newPassword:t,newPasswordConfirmation:r,onChange:this.onUpdateField,isSubmitButtonDisabled:s,errorMessage:o},this.props))}}]),n}(r.Component),I=function(e){return""!==e.oldPassword&&""!==e.newPassword&&""!==e.newPasswordConfirmation&&e.oldPassword!==e.newPassword&&e.newPassword===e.newPasswordConfirmation},F=t(457),N=function(e){function n(e){var t;return g()(this,n),(t=y()(this,O()(n).call(this,e)))._initFirebase=!1,t.onSocialLoginLink=function(e){},t.onDefaultLoginLink=function(e){},t.onUnlink=function(e){},t.state={activeSignInMethods:[],error:null},t}return S()(n,e),E()(n,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this,n=this.state,t=n.activeSignInMethods,r=n.error;return a.a.createElement("div",null,a.a.createElement("ul",null,F.a.map((function(n){var r=1===t.length,o=t.includes(n.id);return a.a.createElement("li",{key:n.id},"password"===n.id?a.a.createElement(x,{onlyOneLeft:r,isEnabled:o,signInMethod:n,onLink:e.onDefaultLoginLink,onUnlink:e.onUnlink}):a.a.createElement(T,{onlyOneLeft:r,isEnabled:o,signInMethod:n,onLink:e.onSocialLoginLink,onUnlink:e.onUnlink}))}))),r&&r.message)}}]),n}(r.Component),T=function(e){var n=e.onlyOneLeft,t=e.isEnabled,r=e.signInMethod,o=e.onLink,s=e.onUnlink;return t?a.a.createElement("button",{type:"button",onClick:function(){return s(r.id)},disabled:n},"Deactivate ",r.id):a.a.createElement("button",{type:"button",onClick:function(){return o(r.provider)}},"Link ",r.id)},x=function(e){function n(e){var t;return g()(this,n),(t=y()(this,O()(n).call(this,e))).onSubmit=function(e){e.preventDefault(),t.props.onLink(t.state.passwordOne),t.setState({passwordOne:"",passwordTwo:""})},t.onChange=function(e){t.setState(b()({},e.target.name,e.target.value))},t.state={passwordOne:"",passwordTwo:""},t}return S()(n,e),E()(n,[{key:"render",value:function(){var e=this.props,n=e.onlyOneLeft,t=e.isEnabled,r=e.signInMethod,o=e.onUnlink,s=this.state,i=s.passwordOne,l=s.passwordTwo,u=i!==l||""===i;return t?a.a.createElement("button",{type:"button",onClick:function(){return o(r.id)},disabled:n},"Deactivate ",r.id):a.a.createElement("form",{onSubmit:this.onSubmit},a.a.createElement("input",{name:"passwordOne",value:i,onChange:this.onChange,type:"password",placeholder:"New Password"}),a.a.createElement("input",{name:"passwordTwo",value:l,onChange:this.onChange,type:"password",placeholder:"Confirm New Password"}),a.a.createElement("button",{disabled:u,type:"submit"},"Link ",r.id))}}]),n}(r.Component),B=Object(s.b)("Others")((function(e){var n=e.t,t=e.user;return a.a.createElement(i.b,null,a.a.createElement(l.a,{title:n("user.home")}),a.a.createElement("h3",null,n("user.account"),": ",t.email),a.a.createElement("br",null),a.a.createElement("h5",null,n("user.change-password"),": "),a.a.createElement(M,{t:n}),a.a.createElement("br",null),a.a.createElement("h5",null,n("user.signin-method"),": "),a.a.createElement(N,{authUser:t}))})),J=function(){return Object(o.d)()?B({user:Object(o.c)()}):null};n.default=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(J,null))}},457:function(e,n,t){"use strict";t.d(n,"b",(function(){return o}));var r=t(163),a=[{id:"email",provider:"email",enabled:!0},{id:"google.com",provider:"google",enabled:!0}];function o(e){return"".concat(r.a,"/connect/").concat(e)}n.a=a}}]);
//# sourceMappingURL=component---src-pages-user-profile-jsx-4e7f1a9308b0e38b2a29.js.map